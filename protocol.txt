1 Gate
  1.1 Request
    { type: "GATE.REQUEST", username: string } // string: non-empty
  1.2 Response
    { type: "GATE.RESPONSE", result: "Accepted" | "Pending review" | "IP is banned" | "Room is full" | "Duplicate usernames" | "Username consists of banned words" }
  1.3 Review Result
    { type: "GATE.REVIEW_RESULT", accepted: boolean, operator: { username: string, uid: number } } // number: non-negative integer
  1.4 Incorrect Protocol
    { type: "GATE.INCORRECT_PROTOCOL", time: time, ip: ip } // time: rounded to microseconds, ip: IPv4 with port ID
  1.5 Client Request
    1.5.1 Announce
      { type: "GATE.CLIENT_REQUEST.ANNOUNCE", username: string, uid: number, result: "Accepted" | "Pending review" | "IP is banned" | "Room is full" | "Duplicate usernames" | "Username consists of banned words" }
    1.5.2 Log
      { type: "GATE.CLIENT_REQUEST.LOG", time: time, ip: ip, username: string, uid: number }
  1.6 Status Change
    1.6.1 Request
      { type: "GATE.STATUS_CHANGE.REQUEST", status: "Rejected" | "Kicked" | "Offline" | "Pending" | "Online" | "Admin" | "Root", uid: number }
    1.6.2 Announce
      { type: "GATE.STATUS_CHANGE.ANNOUNCE", status: "Rejected" | "Kicked" | "Offline" | "Pending" | "Online" | "Admin" | "Root", uid: number }
    1.6.3 Log
      { type: "GATE.STATUS_CHANGE.LOG", time: time, status: "Rejected" | "Kicked" | "Offline" | "Pending" | "Online" | "Admin" | "Root", uid: number, operator: number }


2 Chat
  2.1 Send
    { type: "CHAT.SEND", filename: string, content: string, to: number | -1 | -2 } // to = -2 for broadcasting, to = -1 for public messages, to = UID for private messages for specific users, filename = "" for messages, content = base64(file_content) for files
  2.2 Receive
    { type: "CHAT.RECEIVE", from: number, order: number, filename: string, content: string, to: number | -1 | -2 } // order = 0 for messages
  2.3 Log
    { type: "CHAT.LOG", time: time, from: number, order: number, filename: string, content: string, to: number | -1 | -2 } // content = "" for files


3 Server
  3.1 Start
    { type: "SERVER.START", time: time, server_version: string, config: JSON }
  3.2 Stop
    3.2.1 Announce
    { type: "SERVER.STOP.ANNOUNCE" }
    3.2.2 Log
    { type: "SERVER.STOP.LOG", time: time }
  3.3 Data
    { type: "SERVER.DATA", server_version: string, uid: number, config: JSON, users: [JSON, ...], chat_history: [JSON, ...] } // users: { username: string, status: "Rejected" | "Kicked" | "Offline" | "Pending" | "Online" | "Admin" | "Root" }, chat_history: { time: time, from: number, content: string, to: number | -1 | -2 }, public messages only
  3.4 Config
    3.4.1 Post
      { type: "SERVER.CONFIG.POST", key: string, value: any }
    3.4.2 Change
      { type: "SERVER.CONFIG.CHANGE", key: string, value: any, operator: number }
    3.4.3 Save
      { type: "SERVER.CONFIG.SAVE", time: time }
    3.4.4 Log
      { type: "SERVER.CONFIG.LOG", time: time, key: string, value: any, operator: number }
